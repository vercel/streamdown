---
title: Feedback
description: Collect user feedback directly in GitHub Discussions with an interactive emotion-based feedback widget
---

The Feedback feature allows readers to share their thoughts about your documentation pages directly through an interactive widget. Feedback is automatically posted to your repository's GitHub Discussions, creating a central place to gather and respond to user input.

## How It Works

The feedback widget appears in the table of contents sidebar on every documentation page. When users click "Give feedback", they can:

1. Write their feedback message (with Markdown support)
2. Select an emotion that represents their experience:
   - Angry ðŸ˜¡
   - Sad ðŸ˜¢
   - Happy ðŸ˜Š
   - Ecstatic ðŸ˜‚
3. Submit their feedback
4. View the created GitHub Discussion

### Feedback Workflow

When feedback is submitted:

1. The system searches for an existing discussion titled "Feedback for `{page-url}`"
2. If found, the feedback is added as a new comment
3. If not found, a new discussion is created in the specified category
4. Users receive a link to view their feedback on GitHub

This approach keeps all feedback for a specific page organized in a single discussion thread, making it easier to track and respond to user input.

## Configuration

The Feedback feature requires both environment variables and GitHub App configuration.

### Environment Variables

```bash title=".env"
# Public variables (exposed to the client)
NEXT_PUBLIC_GEISTDOCS_OWNER="your-username"
NEXT_PUBLIC_GEISTDOCS_REPO="your-repo-name"
NEXT_PUBLIC_GEISTDOCS_CATEGORY="Documentation"

# Private variables (server-side only)
GITHUB_APP_ID="your-app-id"
GITHUB_APP_PRIVATE_KEY="your-private-key"
```

### Required Environment Variables

- **`NEXT_PUBLIC_GEISTDOCS_OWNER`** - Your GitHub username or organization name
- **`NEXT_PUBLIC_GEISTDOCS_REPO`** - Your repository name
- **`NEXT_PUBLIC_GEISTDOCS_CATEGORY`** - The name of your GitHub Discussions category (e.g., "Documentation", "Feedback")
- **`GITHUB_APP_ID`** - Your GitHub App's ID
- **`GITHUB_APP_PRIVATE_KEY`** - Your GitHub App's private key

## GitHub App Setup

To enable the Feedback feature, you need to create and configure a GitHub App:

### 1. Create a GitHub App

1. Go to your GitHub Settings â†’ Developer settings â†’ GitHub Apps
2. Click "New GitHub App"
3. Configure the app:
   - **Name**: Choose a unique name (e.g., "Docs Feedback Bot")
   - **Homepage URL**: Your documentation URL
   - **Webhook**: Uncheck "Active" (not needed for this feature)

### 2. Set Permissions

Under "Repository permissions":
- **Discussions**: Read & Write access

### 3. Generate a Private Key

1. Scroll to "Private keys" section
2. Click "Generate a private key"
3. Save the downloaded `.pem` file securely

### 4. Install the App

1. Go to "Install App" in the left sidebar
2. Install the app on your repository
3. Note down the App ID from the app settings page

### 5. Configure Environment Variables

Add the credentials to your `.env` file:

```bash title=".env"
GITHUB_APP_ID="123456"
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nYour key here\n-----END RSA PRIVATE KEY-----"
```

Note: The private key should include `\n` for line breaks when stored as an environment variable.

## GitHub Discussions Setup

1. Enable Discussions on your repository:
   - Go to Settings â†’ General
   - Scroll to "Features"
   - Check "Discussions"

2. Create a category for feedback:
   - Go to the Discussions tab
   - Click the settings icon
   - Create a new category (e.g., "Documentation" or "Feedback")
   - Use this exact name in `NEXT_PUBLIC_GEISTDOCS_CATEGORY`

## Features

### Markdown Support

Users can write their feedback using Markdown syntax, including:
- **Bold** and *italic* text
- Lists and numbered lists
- Code blocks and inline code
- Links

### Persistent Storage

Feedback submissions are stored in the browser's local storage, so users can:
- See a confirmation message after submitting
- View their submission on GitHub
- Submit additional feedback if needed

### Automatic Organization

All feedback for a specific page is grouped into a single discussion thread, making it easy to:
- Track common issues or suggestions
- Respond to multiple users at once
- See the history of feedback for each page

## Implementation Details

The Feedback feature is implemented across several files:

- `components/geistdocs/feedback.tsx` - Client-side React component
- `app/actions/discuss.ts` - Server action that creates discussions
- `components/geistdocs/docs-page.tsx` - Integration into the page layout

## Best Practices

1. **Respond Promptly** - Check GitHub Discussions regularly and respond to feedback
2. **Label Discussions** - Use labels to categorize feedback (bug, enhancement, question, etc.)
3. **Close Resolved Issues** - Mark discussions as answered when addressed
4. **Link to Changes** - When you implement a suggestion, link back to the discussion
5. **Set Expectations** - Add a pinned discussion explaining your feedback process and response times

## Troubleshooting

### Feedback widget doesn't appear

- Verify all environment variables are set correctly
- Check that the variables are properly prefixed (`NEXT_PUBLIC_` for client-side)
- Restart your development server after adding environment variables

### "Please create a category" error

- Ensure the category name in `NEXT_PUBLIC_GEISTDOCS_CATEGORY` exactly matches the name in GitHub Discussions (case-sensitive)
- Verify that Discussions are enabled on your repository

### GitHub API errors

- Check that your GitHub App has the correct permissions (Discussions: Read & Write)
- Verify the app is installed on the repository
- Ensure the private key is properly formatted with `\n` line breaks
