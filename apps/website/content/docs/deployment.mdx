---
title: Deploy to Vercel
description: Learn how to deploy your Geistdocs site to Vercel
---

Deploy your documentation site to Vercel in minutes with automatic deployments, environment variable management, and built-in optimizations.

## Prerequisites

Before deploying, you need:

- A GitHub account with your Geistdocs repository
- A Vercel account (sign up at [vercel.com](https://vercel.com))
- Environment variables ready (see [Environment Variables](#configure-environment-variables))

## Deploy to Vercel

To deploy from the Vercel dashboard:

1. Go to [vercel.com/new](https://vercel.com/new)
2. Import your Git repository by selecting your Git provider
3. Select your Geistdocs repository
4. Configure your project settings:
   - **Framework Preset**: Next.js (automatically detected)
   - **Build Command**: `pnpm build` or `npm run build`
   - **Output Directory**: `.next` (default)
   - **Install Command**: `pnpm install` or `npm install`
5. Add your environment variables (see [Environment Variables](#configure-environment-variables))
6. Click "Deploy"

## Configure Environment Variables

Your deployment needs several environment variables to function correctly. Add these in the Vercel dashboard under **Settings** � **Environment Variables**.

### Required Variables

```bash
# GitHub Repository Configuration
NEXT_PUBLIC_GEISTDOCS_OWNER=your_github_username
NEXT_PUBLIC_GEISTDOCS_REPO=your_repo_name
NEXT_PUBLIC_GEISTDOCS_CATEGORY=Documentation

# GitHub App Credentials
GITHUB_APP_ID=your_app_id
GITHUB_APP_PRIVATE_KEY=your_private_key_here

# AI Gateway API Key
AI_GATEWAY_API_KEY=your_openai_api_key
```

### Setting Up GitHub App

To enable the feedback feature:

1. Go to [GitHub Apps settings](https://github.com/settings/apps/new)
2. Create a new GitHub App with these permissions:
   - **Repository permissions** � **Discussions**: Read and write
3. Generate a private key and download it
4. Install the app on your documentation repository
5. Add the App ID and private key to Vercel environment variables

When adding the private key to Vercel:

- Copy the entire contents of the private key file
- Include the `-----BEGIN RSA PRIVATE KEY-----` and `-----END RSA PRIVATE KEY-----` lines
- Vercel will handle the formatting automatically

### Setting Up AI Chat

The AI chat feature requires an OpenAI API key:

1. Get an API key from [OpenAI Platform](https://platform.openai.com/api-keys)
2. Add it as `AI_GATEWAY_API_KEY` in Vercel environment variables
3. The chat will automatically index and search your documentation

## Automatic Deployments

Once connected, Vercel automatically deploys your site when you:

- **Push to main branch** - Deploys to production
- **Open a pull request** - Creates a preview deployment
- **Push to any branch** - Creates a preview deployment

Each deployment gets a unique URL that you can share for testing and review.

## Custom Domains

To use a custom domain with your documentation site:

1. Go to your project in the Vercel dashboard
2. Navigate to **Settings** � **Domains**
3. Add your custom domain
4. Configure your DNS settings as instructed by Vercel

Vercel automatically provisions SSL certificates and handles renewals for you.

## Preview Deployments

Every pull request and branch gets its own preview URL. You can use preview deployments to:

- Test changes before merging to production
- Share work-in-progress with team members
- Review documentation updates in context

Preview deployments include all the features of production, including AI chat and search.

## Troubleshooting

### Build Fails

If your build fails, check the build logs in the Vercel dashboard:

1. Go to your project
2. Click on the failed deployment
3. Review the build logs for errors

Common issues:

- **Missing environment variables** - Verify all required variables are set
- **TypeScript errors** - Run `pnpm lint` locally to catch issues before deploying
- **Dependency issues** - Try deleting `node_modules` and reinstalling

### Environment Variables Not Working

If environment variables are not working:

- Verify the variable names match exactly (case-sensitive)
- Check that variables starting with `NEXT_PUBLIC_` are set for all environments
- Redeploy your site after adding or updating environment variables

### AI Chat Not Responding

If the AI chat feature is not working:

- Verify your `AI_GATEWAY_API_KEY` is set correctly
- Check the Function logs in the Vercel dashboard for errors
- Ensure your OpenAI account has available credits

### GitHub Discussions Not Creating

If feedback is not creating GitHub Discussions:

- Verify your GitHub App is installed on the repository
- Check that the App has correct permissions (Discussions: Read and write)
- Ensure `GITHUB_APP_ID` and `GITHUB_APP_PRIVATE_KEY` are set correctly
- Verify the Discussions category specified in `NEXT_PUBLIC_GEISTDOCS_CATEGORY` exists

## Performance Optimization

Vercel automatically optimizes your Next.js application with:

- **Edge caching** - Static pages are cached globally
- **Image optimization** - Images are automatically optimized and served in modern formats
- **Code splitting** - JavaScript is automatically split for faster page loads
- **Compression** - Responses are automatically compressed

You can monitor your site's performance in the Vercel dashboard under **Analytics**.

## Learn More

- [Vercel Documentation](https://vercel.com/docs) - Learn about Vercel's features and capabilities
- [Next.js Deployment](https://nextjs.org/docs/deployment) - Next.js-specific deployment guidance
- [Environment Variables](https://vercel.com/docs/projects/environment-variables) - Managing environment variables on Vercel
